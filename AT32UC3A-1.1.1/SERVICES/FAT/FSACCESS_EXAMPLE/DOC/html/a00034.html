<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>AVR32 UC3 - FSACCESS Services: fat.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>fat.h</h1><a href="a00018.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*This file has been prepared for Doxygen automatic documentation generation.*/</span>
<a name="l00019"></a>00019 <span class="comment">/* Copyright (c) 2007, Atmel Corporation All rights reserved.</span>
<a name="l00020"></a>00020 <span class="comment"> *</span>
<a name="l00021"></a>00021 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00022"></a>00022 <span class="comment"> * modification, are permitted provided that the following conditions are met:</span>
<a name="l00023"></a>00023 <span class="comment"> *</span>
<a name="l00024"></a>00024 <span class="comment"> * 1. Redistributions of source code must retain the above copyright notice,</span>
<a name="l00025"></a>00025 <span class="comment"> * this list of conditions and the following disclaimer.</span>
<a name="l00026"></a>00026 <span class="comment"> *</span>
<a name="l00027"></a>00027 <span class="comment"> * 2. Redistributions in binary form must reproduce the above copyright notice,</span>
<a name="l00028"></a>00028 <span class="comment"> * this list of conditions and the following disclaimer in the documentation</span>
<a name="l00029"></a>00029 <span class="comment"> * and/or other materials provided with the distribution.</span>
<a name="l00030"></a>00030 <span class="comment"> *</span>
<a name="l00031"></a>00031 <span class="comment"> * 3. The name of ATMEL may not be used to endorse or promote products derived</span>
<a name="l00032"></a>00032 <span class="comment"> * from this software without specific prior written permission.</span>
<a name="l00033"></a>00033 <span class="comment"> *</span>
<a name="l00034"></a>00034 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY ATMEL ``AS IS'' AND ANY EXPRESS OR IMPLIED</span>
<a name="l00035"></a>00035 <span class="comment"> * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF</span>
<a name="l00036"></a>00036 <span class="comment"> * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE EXPRESSLY AND</span>
<a name="l00037"></a>00037 <span class="comment"> * SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR ANY DIRECT,</span>
<a name="l00038"></a>00038 <span class="comment"> * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<a name="l00039"></a>00039 <span class="comment"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<a name="l00040"></a>00040 <span class="comment"> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<a name="l00041"></a>00041 <span class="comment"> * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00042"></a>00042 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF</span>
<a name="l00043"></a>00043 <span class="comment"> * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00044"></a>00044 <span class="comment"> */</span>
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 <span class="preprocessor">#ifndef _FAT_H_</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#define _FAT_H_</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00049"></a>00049 <span class="preprocessor">#include "<a class="code" href="a00022.html">fs_com.h</a>"</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="preprocessor">#undef _GLOBEXT_</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">#if (defined _fat_c_)</span>
<a name="l00053"></a>00053 <span class="preprocessor"></span><span class="preprocessor">#  define _GLOBEXT_</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00055"></a><a class="code" href="a00018.html#d4d03be3b8f3d15ed804170a1311ec98">00055</a> <span class="preprocessor"></span><span class="preprocessor">#  define _GLOBEXT_ extern</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span>
<a name="l00058"></a>00058 
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 <span class="comment">//_____ I N C L U D E S ____________________________________________________</span>
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="comment">//_____ M A C R O S ________________________________________________________</span>
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 <span class="comment">// For optimize the code if certain FAT isn't used</span>
<a name="l00076"></a>00076 <span class="preprocessor">#if (FS_FAT_12 == ENABLED)</span>
<a name="l00077"></a><a class="code" href="a00018.html#c2ce5473766316396fb472c1bdd685e9">00077</a> <span class="preprocessor"></span><span class="preprocessor">#  define   Is_fat12    (FS_TYPE_FAT_12 == fs_g_nav_fast.u8_type_fat)</span>
<a name="l00078"></a>00078 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span><span class="preprocessor">#  define   Is_fat12    (0)</span>
<a name="l00080"></a>00080 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00081"></a>00081 <span class="preprocessor"></span><span class="preprocessor">#if (FS_FAT_16 == ENABLED)</span>
<a name="l00082"></a><a class="code" href="a00018.html#2dcd74d640da1e20ad510413c9ef4c85">00082</a> <span class="preprocessor"></span><span class="preprocessor">#  define   Is_fat16    (FS_TYPE_FAT_16 == fs_g_nav_fast.u8_type_fat)</span>
<a name="l00083"></a>00083 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span><span class="preprocessor">#  define   Is_fat16    (0)</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00086"></a>00086 <span class="preprocessor"></span><span class="preprocessor">#if (FS_FAT_32 == ENABLED)</span>
<a name="l00087"></a><a class="code" href="a00018.html#57a82f24a45a33a159e0362b7e82e3fa">00087</a> <span class="preprocessor"></span><span class="preprocessor">#  define   Is_fat32    (FS_TYPE_FAT_32 == fs_g_nav_fast.u8_type_fat)</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span><span class="preprocessor">#  define   Is_fat32    (0)</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00091"></a>00091 <span class="preprocessor"></span>
<a name="l00092"></a>00092 <span class="comment">// For optimize the code if certain string format isn't used</span>
<a name="l00093"></a>00093 <span class="preprocessor">#if ( (FS_ASCII   == ENABLED) &amp;&amp; (FS_UNICODE == ENABLED))</span>
<a name="l00094"></a><a class="code" href="a00018.html#4ad00946d48b5c25c6734344ecf974c1">00094</a> <span class="preprocessor"></span><span class="preprocessor">#  define   Is_unicode  (g_b_unicode)</span>
<a name="l00095"></a>00095 <span class="preprocessor"></span><span class="preprocessor">#elif (FS_ASCII   == ENABLED)</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span><span class="preprocessor">#  define   Is_unicode  (0)</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span><span class="preprocessor">#elif (FS_UNICODE == ENABLED)</span>
<a name="l00098"></a>00098 <span class="preprocessor"></span><span class="preprocessor">#  define   Is_unicode  (1)</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span><span class="preprocessor">#  error You must define FS_ASCII or/and FS_UNICODE enable in conf_explorer.h</span>
<a name="l00101"></a>00101 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span>
<a name="l00103"></a>00103 
<a name="l00104"></a>00104 <span class="comment">//_____ D E F I N I T I O N S ______________________________________________</span>
<a name="l00105"></a>00105 
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 <span class="comment">//**** Definitions corresponding at the FAT norm ****</span>
<a name="l00108"></a>00108 
<a name="l00110"></a><a class="code" href="a00018.html#70b90ba913c43a878e9b478de5d1b61c">00110</a> <span class="preprocessor">#define  FS_MBR_OFFSET_PART_ENTRY( num )  ((U16)((U16)(0x1BE)+(0x10 * num)))  // Partition entry num (0 to 4)</span>
<a name="l00111"></a>00111 <span class="preprocessor"></span>
<a name="l00112"></a>00112 
<a name="l00116"></a><a class="code" href="a00018.html#931fb8aaa3236e5d2ee2d03424c07dc5">00116</a> <span class="preprocessor">#define  LOW_16_BPB_BytsPerSec   fs_g_sector[11]</span>
<a name="l00117"></a><a class="code" href="a00018.html#1bf0f3b3cb79deb5b7c459b5d10449d5">00117</a> <span class="preprocessor"></span><span class="preprocessor">#define  HIGH_16_BPB_BytsPerSec  fs_g_sector[12]</span>
<a name="l00118"></a><a class="code" href="a00018.html#14c055fd6f5b4bda4470668bab3694ee">00118</a> <span class="preprocessor"></span><span class="preprocessor">#define  U8_BPB_SecPerClus       fs_g_sector[13]</span>
<a name="l00119"></a><a class="code" href="a00018.html#b1eab4cea0637f0fa8c7e521968803a2">00119</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW_16_BPB_RootEntCnt   fs_g_sector[17]</span>
<a name="l00120"></a><a class="code" href="a00018.html#8f6e516573fdbd3ea8eadd402cc6e134">00120</a> <span class="preprocessor"></span><span class="preprocessor">#define  HIGH_16_BPB_RootEntCnt  fs_g_sector[18]</span>
<a name="l00121"></a><a class="code" href="a00018.html#fe57e984b2baf3970ac7feda02355ac9">00121</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW_16_BPB_FATSz16      fs_g_sector[22]</span>
<a name="l00122"></a><a class="code" href="a00018.html#c7277af1ce6ee4efe860da2d1f3b1b38">00122</a> <span class="preprocessor"></span><span class="preprocessor">#define  HIGH_16_BPB_FATSz16     fs_g_sector[23]</span>
<a name="l00123"></a><a class="code" href="a00018.html#c1ba95f06dfaaf3c71a5eb12dd56009c">00123</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW0_32_BPB_FATSz32     fs_g_sector[36]</span>
<a name="l00124"></a><a class="code" href="a00018.html#dff814b0d106b4c3b3f730fbef8338ce">00124</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW1_32_BPB_FATSz32     fs_g_sector[37]</span>
<a name="l00125"></a><a class="code" href="a00018.html#8ef0e71139f216c7aaa15dc92f04ad74">00125</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW2_32_BPB_FATSz32     fs_g_sector[38]</span>
<a name="l00126"></a><a class="code" href="a00018.html#ae445a7061c79d078f70001aa7d5ca16">00126</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW3_32_BPB_FATSz32     fs_g_sector[39]</span>
<a name="l00127"></a><a class="code" href="a00018.html#b63400ba470fe3bf6c110a0af483ccc0">00127</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW_16_BPB_TotSec16     fs_g_sector[19]</span>
<a name="l00128"></a><a class="code" href="a00018.html#3f384bfdb0b306957dbc5f9c9b087dbe">00128</a> <span class="preprocessor"></span><span class="preprocessor">#define  HIGH_16_BPB_TotSec16    fs_g_sector[20]</span>
<a name="l00129"></a><a class="code" href="a00018.html#874e06185fcba59848db370a65ffb162">00129</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW0_32_BPB_TotSec32    fs_g_sector[32]</span>
<a name="l00130"></a><a class="code" href="a00018.html#36c744b34bb704e3777d34a3b4c365a7">00130</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW1_32_BPB_TotSec32    fs_g_sector[33]</span>
<a name="l00131"></a><a class="code" href="a00018.html#b1bff622ef1d89f52b64b80e0f04bb4c">00131</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW2_32_BPB_TotSec32    fs_g_sector[34]</span>
<a name="l00132"></a><a class="code" href="a00018.html#f6bd554441216cd3475dd35a23d2a282">00132</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW3_32_BPB_TotSec32    fs_g_sector[35]</span>
<a name="l00133"></a><a class="code" href="a00018.html#054eca177d5b03154cb95ead9e3cca0b">00133</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW_16_BPB_ResvSecCnt   fs_g_sector[14]</span>
<a name="l00134"></a><a class="code" href="a00018.html#72679a68a6d92475a790f11861a92316">00134</a> <span class="preprocessor"></span><span class="preprocessor">#define  HIGH_16_BPB_ResvSecCnt  fs_g_sector[15]</span>
<a name="l00135"></a><a class="code" href="a00018.html#58a994fdcf3ee750422c9088d66033c1">00135</a> <span class="preprocessor"></span><span class="preprocessor">#define  U8_BPB_NumFATs          fs_g_sector[16]</span>
<a name="l00136"></a><a class="code" href="a00018.html#0a4a06552fb3a44093ef87a09fc2840f">00136</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW0_32_BPB_RootClus    fs_g_sector[44]</span>
<a name="l00137"></a><a class="code" href="a00018.html#dd80ee1ba4292b33a35bb9794e46b91d">00137</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW1_32_BPB_RootClus    fs_g_sector[45]</span>
<a name="l00138"></a><a class="code" href="a00018.html#47260296ce546b21bd10d3ddc963a2c7">00138</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW2_32_BPB_RootClus    fs_g_sector[46]</span>
<a name="l00139"></a><a class="code" href="a00018.html#68f0eada6fa2bbfffcdc98fcd463d225">00139</a> <span class="preprocessor"></span><span class="preprocessor">#define  LOW3_32_BPB_RootClus    fs_g_sector[47]</span>
<a name="l00141"></a>00141 <span class="preprocessor"></span>
<a name="l00142"></a>00142 <span class="preprocessor"></span>
<a name="l00145"></a><a class="code" href="a00018.html#36f09355f7020d410cb43695cab680fa">00145</a> <span class="preprocessor">#define  FS_BR_SIGNATURE_LOW     0x55</span>
<a name="l00146"></a><a class="code" href="a00018.html#b4cd4bfc6a5baebc1d25bbc5d5db2c15">00146</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_BR_SIGNATURE_HIGH    0xAA</span>
<a name="l00148"></a>00148 <span class="preprocessor"></span>
<a name="l00149"></a>00149 <span class="preprocessor"></span>
<a name="l00152"></a>00152 <span class="comment">/*</span>
<a name="l00153"></a>00153 <span class="comment">   Partition  Fdisk                                               Démarrage dans</span>
<a name="l00154"></a>00154 <span class="comment">   Type       Rapports      Taille                 Type de FAT    version</span>
<a name="l00155"></a>00155 <span class="comment">   -----------------------------------------------------------------------------</span>
<a name="l00156"></a>00156 <span class="comment">   01         PRI DOS       0-15 Mo                12 bits        MS-DOS 2.0</span>
<a name="l00157"></a>00157 <span class="comment">   04         PRI DOS       16-32 Mo               16 bits        MS-DOS 3.0</span>
<a name="l00158"></a>00158 <span class="comment">   05         EXT DOS       0-2 Go                 n/a            MS-DOS 3.3</span>
<a name="l00159"></a>00159 <span class="comment">   06         PRI DOS       32 Mo-2 Go             16 bits        MS-DOS 4.0</span>
<a name="l00160"></a>00160 <span class="comment">   0E         PRI DOS       32 Mo-2 Go             16 bits        Windows 95</span>
<a name="l00161"></a>00161 <span class="comment">   0F         EXT DOS       0-2 Go                 n/a            Windows 95</span>
<a name="l00162"></a>00162 <span class="comment">   0B         PRI DOS       512 Mo - 2 téraoctets  32 bits        OSR2</span>
<a name="l00163"></a>00163 <span class="comment">   0C         EXT DOS       512 Mo - 2 téraoctets  32 bits        OSR2</span>
<a name="l00164"></a>00164 <span class="comment">*/</span>
<a name="l00165"></a><a class="code" href="a00018.html#450f174270801d9b3e2d66854b607148">00165</a> <span class="preprocessor">#define  FS_PARTITION_ACTIVE        0x80</span>
<a name="l00166"></a><a class="code" href="a00018.html#d8702ceb3912c09278602d3ea33224ff">00166</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_PART_TYPE_FAT12         0x01</span>
<a name="l00167"></a><a class="code" href="a00018.html#b9f13193999f7bb7ea0e4be6cf5ee57b">00167</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_PART_TYPE_FAT16_INF32M  0x04</span>
<a name="l00168"></a><a class="code" href="a00018.html#29856400974fc942f9cf900a44ea7389">00168</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_PART_TYPE_FAT16_SUP32M  0x06</span>
<a name="l00169"></a><a class="code" href="a00018.html#c7c65caf9513f8cddd4319b334813d85">00169</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_PART_TYPE_FAT16_SUP32M_BIS  0x0E</span>
<a name="l00170"></a><a class="code" href="a00018.html#93881dd293ba41286e413bef3212786a">00170</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_PART_TYPE_FAT32         0x0B</span>
<a name="l00171"></a><a class="code" href="a00018.html#3e13e837536764161f0aa9768e76b2e1">00171</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_PART_TYPE_FAT32_BIS     0x0C</span>
<a name="l00172"></a><a class="code" href="a00018.html#1e9f640fda1f242a6a45dbffbffa4f56">00172</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_PART_REMOVE_MEDIA       0xF0     // removal media</span>
<a name="l00173"></a><a class="code" href="a00018.html#3222ba68ea2f6dc67aa88a0caeb7e6e4">00173</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_PART_NO_REMOVE_MEDIA    0xF8     // no removal media</span>
<a name="l00174"></a><a class="code" href="a00018.html#3eecd129a66f4de0d5cd023f2f925e1e">00174</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_PART_HARD_DISK          0x81     // hard disk</span>
<a name="l00175"></a><a class="code" href="a00018.html#8b3d7dc9ad174dc5273cc5cb052598f1">00175</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_BOOT_SIGN               0x29     // Boot signature</span>
<a name="l00177"></a>00177 <span class="preprocessor"></span>
<a name="l00178"></a>00178 <span class="preprocessor"></span>
<a name="l00180"></a><a class="code" href="a00018.html#2f2a41f51db7209b1e068193cd10a9d8">00180</a> <span class="preprocessor">#define  FS_FAT12_MAX_CLUSTERS      4085     // Maximum of cluster for FAT 12</span>
<a name="l00181"></a><a class="code" href="a00018.html#c1bec4fdf32e8ff9a9afc44b80607336">00181</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_FAT16_MAX_CLUSTERS      65525    // Maximum of cluster for FAT 16</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span>
<a name="l00183"></a>00183 
<a name="l00186"></a><a class="code" href="a00018.html#453bf57f059970b3ce13033b7959cb0c">00186</a> <span class="preprocessor">#define  FS_ENTRY_END               0x00     // end of directory</span>
<a name="l00187"></a><a class="code" href="a00018.html#303c1237fa5a61ddc015c0365eedd008">00187</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_ENTRY_DEL               0xE5     // entry deleted</span>
<a name="l00188"></a><a class="code" href="a00018.html#bf0fa999d28907c3742656b6407aca78">00188</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_ENTRY_LFN_LAST          0x40     // mask for detected the last long file name entry</span>
<a name="l00190"></a>00190 <span class="preprocessor"></span>
<a name="l00191"></a>00191 <span class="preprocessor"></span>
<a name="l00194"></a><a class="code" href="a00018.html#0ff67916e073882d162d5fbac91d7e50">00194</a> <span class="preprocessor">#define  FS_SIZE_FILE_ENTRY         32       // Size of the file entry</span>
<a name="l00195"></a><a class="code" href="a00018.html#f5a730740b41e20c1a467dcd1d52699f">00195</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_SHIFT_B_TO_FILE_ENTRY    5       // Shift a unit byte to unit entry file (32,&lt;&lt;5) to unit sector (512,&gt;&gt;9)</span>
<a name="l00196"></a><a class="code" href="a00018.html#bbdca2b90701f373bf6c865c88c99697">00196</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_SIZE_LFN_ENTRY          13       // Size of name stored in the file entry "long file name" (unit UNICODE = 2bytes)</span>
<a name="l00197"></a><a class="code" href="a00018.html#69da5456f1f42a68c03ac860e33ac75b">00197</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_SIZE_SFNAME             11       // Size of name stored in the file entry "short file name" (unit byte)</span>
<a name="l00198"></a><a class="code" href="a00018.html#18e4c969985c697213c58a67e7c20795">00198</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_SIZE_SFNAME_WITHOUT_EXT  8       // Size of name (without extension) stored in the file entry "short file name" (unit byte)</span>
<a name="l00199"></a><a class="code" href="a00018.html#f26286ed549d8b9fe8beb60c7744b5cc">00199</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_SIZE_SFNAME_EXT_ONLY     3       // Size of extension name stored in the file entry "short file name" (unit byte)</span>
<a name="l00201"></a>00201 <span class="preprocessor"></span>
<a name="l00202"></a>00202 <span class="preprocessor"></span>
<a name="l00205"></a><a class="code" href="a00018.html#4d46dee315ad22b94de647e7c883edc0">00205</a> <span class="preprocessor">#define  FS_NB_FAT                  2        </span>
<a name="l00206"></a><a class="code" href="a00018.html#3d8dbd6dd4c5150d859e8926f69e88b9">00206</a> <span class="preprocessor">#define  FS_SIZE_OF_SECTOR          512      </span>
<a name="l00207"></a><a class="code" href="a00018.html#7090b63e1693b160aaebf802dfd8e05a">00207</a> <span class="preprocessor">#define  FS_MASK_SIZE_OF_SECTOR     (FS_SIZE_OF_SECTOR-1)</span>
<a name="l00208"></a><a class="code" href="a00018.html#90491f94e13d340a9d3f98e57a66e9d3">00208</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_SHIFT_B_TO_SECTOR       9        // Shift a unit byte to unit sector (512,&gt;&gt;9)</span>
<a name="l00210"></a>00210 <span class="preprocessor"></span>
<a name="l00211"></a>00211 <span class="preprocessor"></span>
<a name="l00212"></a>00212 <span class="comment">//**** Definitions of fonction status ****</span>
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 
<a name="l00216"></a><a class="code" href="a00018.html#0b62220f198f7eb96b15aa863c49ce54">00216</a> <span class="preprocessor">#define  FS_BUF_SECTOR_EMPTY        0xFF</span>
<a name="l00217"></a>00217 <span class="preprocessor"></span>
<a name="l00218"></a>00218 
<a name="l00221"></a><a class="code" href="a00018.html#e9f7cc865270a55859b36205dc45b284">00221</a> <span class="preprocessor">#define  FS_CLUS_OK                 0        // Value correct</span>
<a name="l00222"></a><a class="code" href="a00018.html#296001b537ea1cf21069172943e73e60">00222</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_CLUS_BAD                1        // Value bad</span>
<a name="l00223"></a><a class="code" href="a00018.html#186703da0d708086e4ceaae4a470467d">00223</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_CLUS_END                2        // It is a end of list</span>
<a name="l00225"></a>00225 <span class="preprocessor"></span>
<a name="l00226"></a>00226 <span class="preprocessor"></span>
<a name="l00229"></a><a class="code" href="a00018.html#67f38f48a73531bf4bcd7bf87c7b1db5">00229</a> <span class="preprocessor">#define  FS_CLUST_ACT_SEG           0x01     // Get address sector and nb sector continues of this position in this list</span>
<a name="l00230"></a><a class="code" href="a00018.html#b24c1ca2a8bc9c3e264eb923d3b90666">00230</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_CLUST_ACT_ONE           0x02     // Get address sector of this position in this list</span>
<a name="l00231"></a><a class="code" href="a00018.html#b314d14ba33772e9bcbae993a8d17e9f">00231</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_CLUST_ACT_CLR           0x03     // Clear the list at the start position</span>
<a name="l00233"></a>00233 <span class="preprocessor"></span>
<a name="l00234"></a>00234 <span class="preprocessor"></span>
<a name="l00236"></a><a class="code" href="a00018.html#087734ece5cae84508fd1fbe9414ad02">00236</a> <span class="preprocessor">#define  FS_CLUST_VAL_READ          FALSE      // MODE read</span>
<a name="l00237"></a><a class="code" href="a00018.html#c11d0331723bc237aac4d6c7a4fe7496">00237</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_CLUST_VAL_WRITE         TRUE       // MODE write</span>
<a name="l00238"></a><a class="code" href="a00018.html#6a0f491ab351899993a4171f5ff526f3">00238</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_CLUST_VAL_EOL           0x0FFFFFFF // Value for end of cluster list</span>
<a name="l00240"></a>00240 <span class="preprocessor"></span>
<a name="l00241"></a>00241 <span class="preprocessor"></span>
<a name="l00244"></a>00244 
<a name="l00246"></a><a class="code" href="a00007.html">00246</a> <span class="keyword">typedef</span> <span class="keyword">union</span>
<a name="l00247"></a>00247 <span class="keyword"></span>{
<a name="l00248"></a><a class="code" href="a00007.html#54d1e701d0705a2b2adb2b2cdc2e604b">00248</a>    U32  u32_cluster;                   
<a name="l00249"></a>00249    <span class="keyword">struct                             </span>
<a name="l00250"></a>00250 <span class="keyword">   </span>{                                  
<a name="l00251"></a><a class="code" href="a00007.html#a17ca07269fcb28d77b14e5a67d56378">00251</a>       U16  u16_pos;                    
<a name="l00252"></a><a class="code" href="a00007.html#5e384bddb7393218e17f0329d1b8527f">00252</a>       U16  u16_size;                   
<a name="l00253"></a>00253    } seg;                              
<a name="l00254"></a>00254 } <a class="code" href="a00007.html">Fs_rootdir</a>;
<a name="l00255"></a>00255 
<a name="l00257"></a><a class="code" href="a00004.html">00257</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00258"></a>00258 <span class="keyword"></span>{
<a name="l00259"></a><a class="code" href="a00004.html#43065262a1a7560b143e0b48cbf5ccbd">00259</a>    U8    u8_lun;                       
<a name="l00260"></a>00260 <span class="preprocessor">#if (FS_MULTI_PARTITION == ENABLED)</span>
<a name="l00261"></a><a class="code" href="a00004.html#af482bc02a186c363c37c93e169fbbd4">00261</a> <span class="preprocessor"></span>   U8    u8_partition;                 
<a name="l00262"></a>00262 <span class="preprocessor">#endif</span>
<a name="l00263"></a><a class="code" href="a00004.html#cddebea9972567fdcb5b87327b48125e">00263</a> <span class="preprocessor"></span>   U8    u8_BPB_SecPerClus;            
<a name="l00264"></a>00264    <span class="comment">// The pointers start at beginning of the memory, and unit = sector 512</span>
<a name="l00265"></a><a class="code" href="a00004.html#68924ecf6935ab3e5a32dee9e5d61f7d">00265</a>    U16   u16_fat_size;                 
<a name="l00266"></a><a class="code" href="a00004.html#2f9e0c9af661ea927729c08280e1105e">00266</a>    U32   u32_CountofCluster;           
<a name="l00267"></a><a class="code" href="a00004.html#af1d8fda28bded48a54c7eab4d729618">00267</a>    U32   u32_ptr_fat;                  
<a name="l00268"></a><a class="code" href="a00004.html#d12585f4d1f75862d62ddcb9386b5d4d">00268</a>    U16   u16_offset_data;              
<a name="l00269"></a><a class="code" href="a00004.html#b26050633d0597af6c2c6abe9684481b">00269</a>    <a class="code" href="a00007.html">Fs_rootdir</a>     rootdir;             
<a name="l00270"></a><a class="code" href="a00004.html#ed8faad36e96ff2f422ddadd3740713f">00270</a>    U32   u32_cluster_sel_dir;          
<a name="l00271"></a><a class="code" href="a00004.html#b0213ed9fc205b282b4c1d92adfa7460">00271</a>    U16   u16_pos_sel_file;             
<a name="l00272"></a><a class="code" href="a00004.html#f36b5e65540c67c04d0ca489e2f52332">00272</a>    U8    b_mode_nav;                   
<a name="l00273"></a>00273 } <a class="code" href="a00004.html">Fs_management</a>;
<a name="l00274"></a>00274 
<a name="l00276"></a><a class="code" href="a00006.html">00276</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00277"></a>00277 <span class="keyword"></span>{
<a name="l00278"></a><a class="code" href="a00006.html#74121fb3c8d3a1d018c911650e2ec920">00278</a>    U8    u8_type_fat;                  
<a name="l00279"></a><a class="code" href="a00006.html#9f50297ed427918e54da99b8c4fbaf04">00279</a>    U16   u16_entry_pos_sel_file;       
<a name="l00280"></a>00280 } <a class="code" href="a00006.html">Fs_management_fast</a>;
<a name="l00281"></a>00281 
<a name="l00283"></a><a class="code" href="a00005.html">00283</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00284"></a>00284 <span class="keyword"></span>{
<a name="l00285"></a><a class="code" href="a00005.html#316b7df1bf2c7e55453f17ad00290447">00285</a>    U8    u8_open_mode;                 
<a name="l00286"></a><a class="code" href="a00005.html#c4f33191c9fd60c7520012bbe6005267">00286</a>    U8    u8_attr;                      
<a name="l00287"></a><a class="code" href="a00005.html#eaa27a06eca82fa0f65d848def8a4b87">00287</a>    U32   u32_cluster;                  
<a name="l00288"></a><a class="code" href="a00005.html#6ffedc3932826a337dfb3e656a09edcc">00288</a>    U32   u32_size;                     
<a name="l00289"></a><a class="code" href="a00005.html#1e1dae249ae6839c1b8cce0fecbbf7af">00289</a>    U32   u32_pos_in_file;              
<a name="l00290"></a>00290 } <a class="code" href="a00005.html">Fs_management_entry</a>;
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 
<a name="l00296"></a>00296 
<a name="l00298"></a><a class="code" href="a00009.html">00298</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00299"></a><a class="code" href="a00009.html#da7b79119fecdfb1faab2512eb0ee172">00299</a>    U32  u32_addr;                      
<a name="l00300"></a><a class="code" href="a00009.html#09c9847870bc2202980b54e38ea62fae">00300</a>    U32  u32_size_or_pos;               
<a name="l00301"></a>00301 } <a class="code" href="a00009.html">Fs_segment</a>;
<a name="l00302"></a>00302 
<a name="l00304"></a><a class="code" href="a00010.html">00304</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="a00010.html">st_fs_cluster</a>
<a name="l00305"></a>00305 {
<a name="l00306"></a><a class="code" href="a00010.html#06879786792eeefd3b45527499ed1174">00306</a>    U32   <a class="code" href="a00010.html#06879786792eeefd3b45527499ed1174">u32_pos</a>;                      
<a name="l00307"></a><a class="code" href="a00010.html#4f323a1ec38e3c0f1b57bf4fe07842b7">00307</a>    U32   <a class="code" href="a00010.html#4f323a1ec38e3c0f1b57bf4fe07842b7">u32_val</a>;                      
<a name="l00308"></a>00308 } <a class="code" href="a00010.html">Fs_cluster</a>;
<a name="l00309"></a>00309 
<a name="l00311"></a>00311 
<a name="l00312"></a>00312 
<a name="l00314"></a><a class="code" href="a00001.html">00314</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00315"></a><a class="code" href="a00001.html#9fbad8d6dc29d31a77b92c759ecfeba8">00315</a>    U8    u8_lun;                       
<a name="l00316"></a><a class="code" href="a00001.html#3993609419d886d6bbd71d4b1381d5d8">00316</a>    U32   u32_cluster;                  
<a name="l00317"></a><a class="code" href="a00001.html#9b3cb7c527c5e7e02cc5f4e76fdcd90c">00317</a>    U32   u32_start;                    
<a name="l00318"></a><a class="code" href="a00001.html#4c7ff1bd6744c489ae810368e9c29370">00318</a>    U32   u32_addr;                     
<a name="l00319"></a><a class="code" href="a00001.html#e6b4023e4165ec69fe73bd693adb709a">00319</a>    U32   u32_size;                     
<a name="l00320"></a>00320 } <a class="code" href="a00001.html">Fs_clusterlist_cache</a>;
<a name="l00321"></a>00321 
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 <span class="comment">// Struture to store the informations about sector cache (=last sector read or write on disk)</span>
<a name="l00324"></a><a class="code" href="a00008.html">00324</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00325"></a><a class="code" href="a00008.html#983c3e8973f75815f64897cfdcacd10e">00325</a>    U8    u8_lun;                       
<a name="l00326"></a><a class="code" href="a00008.html#fe852c5721ec70a1942bcebca4e370c9">00326</a>    U32   u32_addr;                     
<a name="l00327"></a><a class="code" href="a00008.html#15ae04822b3c2386dba0b7e54c6062aa">00327</a>    U8    u8_modify;                    
<a name="l00328"></a>00328 
<a name="l00329"></a><a class="code" href="a00008.html#9aba32679527ef002f0bbf18545108cf">00329</a>    U32   u32_clusterlist_start;        
<a name="l00330"></a><a class="code" href="a00008.html#0e983c43b8457d480b14ef77113df31f">00330</a>    U32   u32_clusterlist_pos;          
<a name="l00331"></a>00331 } <a class="code" href="a00008.html">Fs_sector_cache</a>;
<a name="l00332"></a>00332 
<a name="l00333"></a>00333 
<a name="l00334"></a>00334 <span class="comment">//**** Definition of value used by the STRUCTURES of communication</span>
<a name="l00335"></a>00335 
<a name="l00338"></a><a class="code" href="a00018.html#429fbd0498704c3d5864877548040069">00338</a> <span class="preprocessor">#define  FS_TYPE_FAT_UNM   0           </span>
<a name="l00339"></a><a class="code" href="a00018.html#cbc6a789e2144cbc0893187e2d665d8c">00339</a> <span class="preprocessor">#define  FS_TYPE_FAT_12    1</span>
<a name="l00340"></a><a class="code" href="a00018.html#3433de4e69ce8d55317158ee2624e8af">00340</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_TYPE_FAT_16    2</span>
<a name="l00341"></a><a class="code" href="a00018.html#bed7b1e094b19dac8efa753f59f84fc6">00341</a> <span class="preprocessor"></span><span class="preprocessor">#define  FS_TYPE_FAT_32    3</span>
<a name="l00343"></a>00343 <span class="preprocessor"></span>
<a name="l00344"></a>00344 <span class="preprocessor"></span>
<a name="l00347"></a><a class="code" href="a00018.html#2e16c6cfcb3174f7ad19ad3996a69ae7">00347</a> <span class="preprocessor">#define  FS_NO_SEL         0xFFFF      </span>
<a name="l00348"></a><a class="code" href="a00018.html#fe6257cc919ba9fad5fad6c1e499f6d6">00348</a> <span class="preprocessor">#define  FS_END_FIND       0xFFFE      </span>
<a name="l00349"></a>00349 <span class="preprocessor"></span>
<a name="l00350"></a>00350 <span class="preprocessor"></span>
<a name="l00351"></a>00351 <span class="preprocessor"></span>
<a name="l00354"></a><a class="code" href="a00018.html#74f14f9de5d4bb80cf25a5f8590a945d">00354</a> <span class="preprocessor">#define  Fat_file_is_open     (fs_g_nav_entry.u8_open_mode !=0 )</span>
<a name="l00355"></a><a class="code" href="a00018.html#a10de8acc8a9328380a78cca9d843e90">00355</a> <span class="preprocessor"></span><span class="preprocessor">#define  Fat_file_isnot_open  (fs_g_nav_entry.u8_open_mode ==0 )</span>
<a name="l00356"></a><a class="code" href="a00018.html#8e3b3ddad0e2b4f1747507a2665b0901">00356</a> <span class="preprocessor"></span><span class="preprocessor">#define  Fat_file_close       (fs_g_nav_entry.u8_open_mode  =0 )</span>
<a name="l00358"></a>00358 <span class="preprocessor"></span>
<a name="l00359"></a>00359 <span class="preprocessor"></span>
<a name="l00360"></a>00360 <span class="comment">//_____ D E C L A R A T I O N S ____________________________________________</span>
<a name="l00361"></a>00361 
<a name="l00362"></a>00362 <span class="comment">//**** Global file system variables</span>
<a name="l00363"></a>00363 
<a name="l00365"></a><a class="code" href="a00018.html#fdc963fda511dd9e790c81b6a6b33d34">00365</a> <a class="code" href="a00018.html#d4d03be3b8f3d15ed804170a1311ec98">_GLOBEXT_</a>                     Bool                 <a class="code" href="a00018.html#fdc963fda511dd9e790c81b6a6b33d34">g_b_unicode</a>;
<a name="l00366"></a>00366 
<a name="l00369"></a><a class="code" href="a00018.html#5c5e563664aa146853ff976ce0b412ec">00369</a> <a class="code" href="a00018.html#d4d03be3b8f3d15ed804170a1311ec98">_GLOBEXT_</a>   _MEM_TYPE_SLOW_   <a class="code" href="a00004.html">Fs_management</a>        <a class="code" href="a00018.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>;
<a name="l00370"></a><a class="code" href="a00018.html#14ab00294275fb02f822b22d7dcc6b13">00370</a> <a class="code" href="a00018.html#d4d03be3b8f3d15ed804170a1311ec98">_GLOBEXT_</a>   _MEM_TYPE_FAST_   <a class="code" href="a00006.html">Fs_management_fast</a>   <a class="code" href="a00018.html#14ab00294275fb02f822b22d7dcc6b13">fs_g_nav_fast</a>;
<a name="l00371"></a><a class="code" href="a00018.html#fcc9a3eb6084fd54807483346dfc5d09">00371</a> <a class="code" href="a00018.html#d4d03be3b8f3d15ed804170a1311ec98">_GLOBEXT_</a>   _MEM_TYPE_SLOW_   <a class="code" href="a00005.html">Fs_management_entry</a>  <a class="code" href="a00018.html#fcc9a3eb6084fd54807483346dfc5d09">fs_g_nav_entry</a>;
<a name="l00373"></a>00373 
<a name="l00375"></a><a class="code" href="a00018.html#6d934f26f97b442c30712e57ee8b21e5">00375</a> <a class="code" href="a00018.html#d4d03be3b8f3d15ed804170a1311ec98">_GLOBEXT_</a>   _MEM_TYPE_FAST_   <a class="code" href="a00009.html">Fs_segment</a>           <a class="code" href="a00018.html#6d934f26f97b442c30712e57ee8b21e5">fs_g_seg</a>;
<a name="l00376"></a>00376 
<a name="l00378"></a><a class="code" href="a00018.html#f1ca07cf6181c8e6af3fa988a0b0539d">00378</a> <a class="code" href="a00018.html#d4d03be3b8f3d15ed804170a1311ec98">_GLOBEXT_</a>   _MEM_TYPE_FAST_   <a class="code" href="a00010.html">Fs_cluster</a>           <a class="code" href="a00018.html#f1ca07cf6181c8e6af3fa988a0b0539d">fs_g_cluster</a>;
<a name="l00379"></a>00379 
<a name="l00380"></a>00380 <span class="preprocessor">#if (FS_LEVEL_FEATURES &gt; FSFEATURE_READ)</span>
<a name="l00383"></a><a class="code" href="a00018.html#b55b94c50b63cf8b83e2afcf2e0c2981">00383</a> <span class="preprocessor">_GLOBEXT_   _MEM_TYPE_SLOW_   U16                  fs_g_u16_first_mod_fat;</span>
<a name="l00384"></a><a class="code" href="a00018.html#e8c6fce6d75eb9ddbf1e63e46659e9cc">00384</a> <span class="preprocessor"></span><a class="code" href="a00018.html#d4d03be3b8f3d15ed804170a1311ec98">_GLOBEXT_</a>   _MEM_TYPE_SLOW_   U16                  <a class="code" href="a00018.html#e8c6fce6d75eb9ddbf1e63e46659e9cc">fs_g_u16_last_mod_fat</a>;
<a name="l00386"></a>00386 <span class="preprocessor">#endif  // FS_LEVEL_FEATURES</span>
<a name="l00387"></a>00387 <span class="preprocessor"></span>
<a name="l00390"></a><a class="code" href="a00020.html#2406ed722978ec6c55dcafa277a86633">00390</a> <a class="code" href="a00018.html#d4d03be3b8f3d15ed804170a1311ec98">_GLOBEXT_</a>   _MEM_TYPE_SLOW_   U8                   <a class="code" href="a00018.html#e8fff3e358b2628449a988ca5256f7e6">fs_g_sector</a>[ <a class="code" href="a00018.html#3d8dbd6dd4c5150d859e8926f69e88b9">FS_SIZE_OF_SECTOR</a> ];   
<a name="l00391"></a><a class="code" href="a00018.html#140fe136917dd9c8db4239a2027be1a2">00391</a> <a class="code" href="a00018.html#d4d03be3b8f3d15ed804170a1311ec98">_GLOBEXT_</a>   _MEM_TYPE_SLOW_   <a class="code" href="a00008.html">Fs_sector_cache</a>      <a class="code" href="a00018.html#140fe136917dd9c8db4239a2027be1a2">fs_g_sectorcache</a>;
<a name="l00392"></a><a class="code" href="a00018.html#119f57abfa3b1f77fd0514b26da6afb4">00392</a> <span class="keyword">typedef</span> U8  _MEM_TYPE_SLOW_   * <a class="code" href="a00018.html#119f57abfa3b1f77fd0514b26da6afb4">PTR_CACHE</a>;
<a name="l00394"></a>00394 
<a name="l00396"></a><a class="code" href="a00018.html#8e617688fc42b47e56cce053123fd05f">00396</a> <a class="code" href="a00018.html#d4d03be3b8f3d15ed804170a1311ec98">_GLOBEXT_</a>   _MEM_TYPE_SLOW_   U32                  <a class="code" href="a00018.html#8e617688fc42b47e56cce053123fd05f">fs_gu32_addrsector</a>;
<a name="l00397"></a>00397 
<a name="l00398"></a>00398 
<a name="l00399"></a>00399 
<a name="l00402"></a>00402 Bool        <a class="code" href="a00017.html#eeec0bd6755a6be4c4dda2b4669eb0ae">fat_check_device</a>              ( <span class="keywordtype">void</span> );
<a name="l00403"></a>00403 Bool        <a class="code" href="a00017.html#8ee865aa4c51519c0d141f1f4559c72a">fat_check_mount</a>               ( <span class="keywordtype">void</span> );
<a name="l00404"></a>00404 Bool        <a class="code" href="a00017.html#f6f4a9e2d8e7b6dd557871b6bc2c2ee0">fat_check_noopen</a>              ( <span class="keywordtype">void</span> );
<a name="l00405"></a>00405 Bool        <a class="code" href="a00017.html#4efc7734a340e899bb54506b277bb8c1">fat_check_open</a>                ( <span class="keywordtype">void</span> );
<a name="l00406"></a>00406 Bool        <a class="code" href="a00017.html#909da9e84afbebf8ed5838cbe5002f60">fat_check_select</a>              ( <span class="keywordtype">void</span> );
<a name="l00407"></a>00407 Bool        <a class="code" href="a00017.html#e9d0f61d0e7b29a4e8e9e95347194f21">fat_check_mount_noopen</a>        ( <span class="keywordtype">void</span> );
<a name="l00408"></a>00408 Bool        <a class="code" href="a00017.html#003f1c81dcb2c7a95f191c30b8a4f258">fat_check_mount_select_noopen</a> ( <span class="keywordtype">void</span> );
<a name="l00409"></a>00409 Bool        <a class="code" href="a00017.html#0096f66037f89595dfccbca38ab795f8">fat_check_mount_select_open</a>   ( <span class="keywordtype">void</span> );
<a name="l00410"></a>00410 Bool        <a class="code" href="a00017.html#47e29fedbed4084c9f8ec6f27b51015d">fat_check_mount_select</a>        ( <span class="keywordtype">void</span> );
<a name="l00411"></a>00411 Bool        <a class="code" href="a00017.html#2fb226027c5ea59f40c582737e5a44b9">fat_check_is_file</a>             ( <span class="keywordtype">void</span> );
<a name="l00413"></a>00413 
<a name="l00415"></a>00415 U8          <a class="code" href="a00017.html#920798e6366e8c3c408601c58fed4bb3">fat_get_nbpartition</a>           ( <span class="keywordtype">void</span> );
<a name="l00416"></a>00416 
<a name="l00418"></a>00418 Bool        <a class="code" href="a00018.html#c0108ea608b547e8d3a405c70644c1e9">fat_mount</a>                     ( <span class="keywordtype">void</span> );
<a name="l00419"></a>00419 
<a name="l00421"></a>00421 Bool        <a class="code" href="a00018.html#6099b0e8fafcc01b8c1769c94c827325">fat_format</a>                    ( U8 u8_fat_type );
<a name="l00422"></a>00422 
<a name="l00424"></a>00424 Bool        <a class="code" href="a00018.html#2ff43f97db7a5d76f46f4fb1b683d192">fat_serialnumber</a>              ( Bool b_action , U8 _MEM_TYPE_SLOW_ *a_u8_sn );
<a name="l00425"></a>00425 
<a name="l00426"></a>00426 
<a name="l00429"></a>00429 U32         <a class="code" href="a00018.html#e23270781477be5e6c89b90531c01651">fat_getfreespace</a>              ( <span class="keywordtype">void</span> );
<a name="l00430"></a>00430 U8          <a class="code" href="a00018.html#14426d5552b72b88ea0d61828c57d6c6">fat_getfreespace_percent</a>      ( <span class="keywordtype">void</span> );
<a name="l00431"></a>00431 Bool        <a class="code" href="a00018.html#9cf154ffe36bc2c00b1d589e523b449c">fat_write_fat32_FSInfo</a>        ( U32 u32_nb_free_cluster );
<a name="l00432"></a>00432 U32         <a class="code" href="a00018.html#0a8beb16a074b07828fc725e0c0ae500">fat_read_fat32_FSInfo</a>         ( <span class="keywordtype">void</span> );
<a name="l00434"></a>00434 
<a name="l00435"></a>00435 
<a name="l00438"></a>00438 Bool        <a class="code" href="a00017.html#dd96ad16d133974463fd6a5c4bc8bd5f">fat_cluster_list</a>              ( U8 opt_action );
<a name="l00439"></a>00439 <span class="keywordtype">void</span>        <a class="code" href="a00017.html#ecb0d4c200bed41b8bdcf671aa931a2a">fat_cache_clusterlist_reset</a>   ( <span class="keywordtype">void</span> );
<a name="l00440"></a>00440 Bool        <a class="code" href="a00017.html#1be84552293d174f534b2fb8d0a4e737">fat_cluster_val</a>               ( Bool b_mode );
<a name="l00441"></a>00441 Bool        <a class="code" href="a00017.html#e28958d1a5e3ed006edf937e6b7dacc7">fat_cluster_readnext</a>          ( <span class="keywordtype">void</span> );
<a name="l00442"></a>00442 U8          <a class="code" href="a00017.html#4010dc2ad42864603bb81a41b485d346">fat_checkcluster</a>              ( <span class="keywordtype">void</span> );
<a name="l00443"></a>00443 Bool        <a class="code" href="a00018.html#1fa62b2728e71cff2e95556db7ed1b9c">fat_allocfreespace</a>            ( <span class="keywordtype">void</span> );
<a name="l00444"></a>00444 <span class="keywordtype">void</span>        <a class="code" href="a00018.html#9503329592cf7484faf77ca95a6a21aa">fat_clear_info_fat_mod</a>        ( <span class="keywordtype">void</span> );
<a name="l00445"></a>00445 Bool        <a class="code" href="a00018.html#6cc9ee9a14553be84990df27709f51a6">fat_clear_cluster</a>             ( <span class="keywordtype">void</span> );
<a name="l00446"></a>00446 Bool        <a class="code" href="a00018.html#8145cff91620fc1b70aa0eef5750db72">fat_update_fat2</a>               ( <span class="keywordtype">void</span> );
<a name="l00448"></a>00448 
<a name="l00449"></a>00449 
<a name="l00452"></a>00452 Bool        <a class="code" href="a00017.html#d8c9c9a63c821e8cea06c340c029668d">fat_read_file</a>                 ( U8 mode );
<a name="l00453"></a>00453 Bool        <a class="code" href="a00017.html#8723a199c01163d9f9839bd42ac60693">fat_write_file</a>                ( U8 mode , U32 u32_nb_sector_write );
<a name="l00454"></a>00454 Bool        <a class="code" href="a00017.html#1a35321a99150ba643f87cb6c79ec3e5">fat_read_dir</a>                  ( <span class="keywordtype">void</span> );
<a name="l00455"></a>00455 Bool        <a class="code" href="a00018.html#9510bd193c1e70f2307c5b9b07078511">fat_initialize_dir</a>            ( <span class="keywordtype">void</span> );
<a name="l00457"></a>00457 
<a name="l00458"></a>00458 
<a name="l00461"></a>00461 Bool        <a class="code" href="a00017.html#ef13c743905d7e0381b3a461da2ebd7a">fat_entry_check</a>               ( Bool b_type );
<a name="l00462"></a>00462 Bool        <a class="code" href="a00017.html#d690d22df98e6c1fa927c38b1d1a0fae">fat_entry_checkext</a>            ( <a class="code" href="a00022.html#80aede4102ec34e739482902f716915a">FS_STRING</a> sz_filter );
<a name="l00463"></a>00463 <span class="keywordtype">void</span>        <a class="code" href="a00017.html#56b68ed36f194500ce88c22252e3c317">fat_get_entry_info</a>            ( <span class="keywordtype">void</span> );
<a name="l00464"></a>00464 Bool        <a class="code" href="a00017.html#e0caae1c6e4a737af4ad0aa5d4171e79">fat_entry_is_dir</a>              ( <span class="keywordtype">void</span> );
<a name="l00465"></a>00465 <span class="keywordtype">void</span>        <a class="code" href="a00017.html#56d9a210bc2d4b0b5c46cb24a2e9f690">fat_clear_entry_info_and_ptr</a>  ( <span class="keywordtype">void</span> );
<a name="l00466"></a>00466 <span class="keywordtype">void</span>        <a class="code" href="a00017.html#40035dc41d435ed3281155cdf800cf02">fat_write_entry_file</a>          ( <span class="keywordtype">void</span> );
<a name="l00467"></a>00467 Bool        <a class="code" href="a00017.html#6bc798e9f4eac3457cc61e9cd9ba70b9">fat_entry_shortname</a>           ( <a class="code" href="a00022.html#80aede4102ec34e739482902f716915a">FS_STRING</a> sz_name , U8 u8_size_max , Bool b_mode );
<a name="l00468"></a>00468 Bool        <a class="code" href="a00017.html#c0bdbd911ecf04b3fcebbc2e4ae33166">fat_entry_longname</a>            ( <a class="code" href="a00022.html#80aede4102ec34e739482902f716915a">FS_STRING</a> sz_name , U8 u8_size_max , Bool b_mode , Bool b_match_case );
<a name="l00469"></a>00469 Bool        <a class="code" href="a00017.html#452e159ed5e2a4d8ea88f0515a3a6e10">fat_check_eof_name</a>            ( U16 character );
<a name="l00470"></a>00470 <a class="code" href="a00018.html#119f57abfa3b1f77fd0514b26da6afb4">PTR_CACHE</a>   <a class="code" href="a00017.html#0c24a717d004b7194e2c566522348fd5">fat_get_ptr_entry</a>             ( <span class="keywordtype">void</span> );
<a name="l00472"></a>00472 
<a name="l00475"></a>00475 Bool        <a class="code" href="a00018.html#da2110d711208b46e93eb269da40bdf1">fat_create_entry_file_name</a>    ( <a class="code" href="a00022.html#80aede4102ec34e739482902f716915a">FS_STRING</a> sz_name );
<a name="l00476"></a>00476 <span class="keywordtype">void</span>        <a class="code" href="a00018.html#51041500c2e36ab39aad19b54e93d504">fat_get_date</a>                  ( <a class="code" href="a00022.html#80aede4102ec34e739482902f716915a">FS_STRING</a> sz_date , Bool type_date );
<a name="l00477"></a>00477 <span class="keywordtype">void</span>        <a class="code" href="a00018.html#838253d384d03898e6fcb2b3a7687e43">fat_set_date</a>                  ( <span class="keyword">const</span> <a class="code" href="a00022.html#80aede4102ec34e739482902f716915a">FS_STRING</a> sz_date , Bool type_date );
<a name="l00478"></a>00478 Bool        <a class="code" href="a00018.html#797fc629a4a513e6a5f2951720da5d47">fat_delete_file</a>               ( Bool b_cluster_list );
<a name="l00479"></a>00479 Bool        <a class="code" href="a00018.html#a03d2728f28964e1eb4d78c2bb831718">fat_entry_label</a>               ( Bool b_action , <a class="code" href="a00022.html#80aede4102ec34e739482902f716915a">FS_STRING</a> sz_label );
<a name="l00481"></a>00481 
<a name="l00482"></a>00482 
<a name="l00485"></a>00485 Bool        <a class="code" href="a00017.html#a67dc439478853cefdd226f9c99c9539">fat_cache_read_sector</a>         ( Bool b_load );
<a name="l00486"></a>00486 <span class="keywordtype">void</span>        <a class="code" href="a00017.html#961692919a93b6cb714ec2a3d57c0141">fat_cache_reset</a>               ( <span class="keywordtype">void</span> );
<a name="l00487"></a>00487 <span class="keywordtype">void</span>        <a class="code" href="a00017.html#5948c1de515852418670d3fb8ae1e832">fat_cache_clear</a>               ( <span class="keywordtype">void</span> );
<a name="l00488"></a>00488 <span class="keywordtype">void</span>        <a class="code" href="a00017.html#e73cb496ddbf1ab33944f99f1c50f4d0">fat_cache_sector_is_modify</a>    ( <span class="keywordtype">void</span> );
<a name="l00489"></a>00489 Bool        <a class="code" href="a00017.html#578ab4800128cde17c0820a5027c1c06">fat_cache_flush</a>               ( <span class="keywordtype">void</span> );
<a name="l00491"></a>00491 
<a name="l00492"></a>00492 
<a name="l00495"></a>00495 <span class="preprocessor">#if (FS_NB_NAVIGATOR &gt; 1)</span>
<a name="l00496"></a>00496 <span class="preprocessor"></span>   Bool     <a class="code" href="a00017.html#3ebe58d94472a1818a38afaf09c19c35">fat_check_nav_access_disk</a>     ( <span class="keywordtype">void</span> );
<a name="l00497"></a>00497    Bool     <a class="code" href="a00017.html#07f36d38eda0af16ef7ef899129d7e7b">fat_check_nav_access_file</a>     ( Bool mode );
<a name="l00498"></a>00498 <span class="preprocessor">#else</span>
<a name="l00499"></a>00499 <span class="preprocessor"></span><span class="preprocessor"># define    fat_check_nav_access_disk(b)  (TRUE)            </span>
<a name="l00500"></a>00500 <span class="preprocessor"># define    fat_check_nav_access_file(b)  (TRUE)            </span>
<a name="l00501"></a>00501 <span class="preprocessor">#endif</span>
<a name="l00503"></a>00503 <span class="preprocessor"></span>
<a name="l00504"></a>00504 <span class="preprocessor"></span>
<a name="l00508"></a>00508 <span class="preprocessor">#if (FS_NB_NAVIGATOR &gt; 1)</span>
<a name="l00509"></a>00509 <span class="preprocessor"></span>   <span class="keywordtype">void</span>     <a class="code" href="a00017.html#65cfc6e07b1a1bc3a12d564148daca37">fat_invert_nav</a>                ( U8 u8_idnav );
<a name="l00510"></a>00510    Bool     <a class="code" href="a00017.html#019afd16a7838947cee3c910a1dcd045">fat_copy_file_current</a>         ( U8 u8_idnav );
<a name="l00511"></a>00511 <span class="preprocessor">#else</span>
<a name="l00512"></a>00512 <span class="preprocessor"></span><span class="preprocessor"># define    fat_invert_nav                ( arg )  (arg++)  </span>
<a name="l00513"></a>00513 <span class="preprocessor"># define    fat_copy_file_current         ( arg )  (arg++)  </span>
<a name="l00514"></a>00514 <span class="preprocessor">#endif</span>
<a name="l00516"></a>00516 <span class="preprocessor"></span>
<a name="l00517"></a>00517 <span class="preprocessor"></span><span class="preprocessor">#endif  // _FAT_H_</span>
<a name="l00518"></a>00518 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu Sep 20 12:17:16 2007 for AVR32 UC3 - FSACCESS Services by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
